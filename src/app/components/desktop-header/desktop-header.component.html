<ion-header class="ion-no-border ion-hide-md-down">
  
  <ion-toolbar color="light">
   
    <ion-grid class="ion-no-padding" style="position: relative;">
      <ion-row>
        <ion-col size="4" class="ion-no-padding">
          <ion-title
            color="primary"
            style="font-weight: bold; font-size: 2rem"
            class="ion-text-left ion-no-padding ion-padding-horizontal"
            >Deal on Store</ion-title
          >
        </ion-col>
        <ion-col
          size="6"
          offset="1"
          class="ion-no-padding"
          style="position: relative"
        >
          <ion-searchbar
            animated
            showCancelButton="focus"
            placeholder="Search for products, brands and more"
            [formControl]="searchTerm"
            (ionChange)="onSearchChange()"
            [debounce]="250"
          ></ion-searchbar>
          <div *ngIf="searching" class="spinner-container">
            <ion-spinner></ion-spinner>
          </div>
        </ion-col>
        <ion-content
        [ngStyle]="{ height: result?.length ? '40vh' : '0' }"
        style="position: absolute; z-index: 2;  right: 0; width: 40vw;"
      >
        <ion-list>
          <ion-item
            *ngFor="let item of result; let i = index"
            (click)="viewSearchProduct(i)"
          >
            {{ item.name }}
          </ion-item>
        </ion-list>
      </ion-content>


      </ion-row>
    

      <!-- code to show search result -->
      
     

    </ion-grid>
  </ion-toolbar>


  <ion-toolbar color="light">
    <!-- <ion-buttons slot="start"> -->
    <ion-button
      *ngFor="let item of categories; let i = index"
      class="ion-padding-horizontal"
      [color]="selectedCategoryIndex == i ? 'primary' : 'secondary'"
      fill="clear"
      (click)="navigateByUrl(i)"
    >
      <!-- <ion-icon class="ion-padding-horizontal" src="../assets/imgs/icons/tag.svg"></ion-icon> -->
      <ion-icon
        name="{{ item.icon }}"
        class="ion-padding-horizontal"
      ></ion-icon>
      {{ item?.name }}
    </ion-button>
    <!-- </ion-buttons> -->
    <ion-buttons slot="end" class="ion-padding-horizontal">
      <ion-button
        class="ion-padding-horizontal"
        (click)="onNavigate('/profile')"
      >
        <ion-icon
          color="secondary"
          slot="icon-only"
          src="../assets/imgs/icons/profile.svg"
        ></ion-icon>
      </ion-button>
      <ion-button
        class="ion-padding-horizontal"
        (click)="onNavigate('/notification')"
      >
        <ion-icon
          color="secondary"
          slot="icon-only"
          src="../assets/imgs/icons/notifications-outline.svg"
        ></ion-icon>
        <ion-badge id="cart-badge" color="primary" *ngIf="notf_count > 0">{{
          notf_count > 9 ? "9+" : notf_count
        }}</ion-badge>
      </ion-button>

      <ion-button
        class="ion-padding-horizontal"
        (click)="router.navigate(['/cart'])"
      >
        <ion-icon
          color="secondary"
          slot="icon-only"
          src="../assets/imgs/icons/cart.svg"
        ></ion-icon>
        <ion-badge id="cart-badge" color="primary" *ngIf="cart_count > 0">{{
          cart_count
        }}</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
